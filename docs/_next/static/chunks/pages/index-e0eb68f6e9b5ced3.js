(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9208:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(4830)}])},4830:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return N}});var a=t(5893),n=t(9008),o=t.n(n),r=t(3915),i=t.n(r),d=t(7294),p=t(7536);let c=[{type:"CityRoad",jpName:"都市計画道路",color:"red",drawCards:4,resolveIssues:!0,increasePopulation:0,addCoins:0,addGetNum:1,addActions:0,happiness:0,cost:5},{type:"ShoppingCenter",jpName:"ショッピングセンターの誘致",color:"red",drawCards:2,resolveIssues:!0,increasePopulation:1,addCoins:1,addGetNum:0,addActions:0,happiness:-2,cost:4},{type:"Atom",jpName:"原子力発電所",color:"red",drawCards:0,resolveIssues:!1,increasePopulation:0,addCoins:3,addGetNum:0,addActions:1,happiness:-4,cost:2},{type:"Nursery",jpName:"幼児・児童の一時預かり体制",color:"yellow",drawCards:0,resolveIssues:!1,increasePopulation:0,addCoins:1,addGetNum:1,addActions:2,happiness:0,cost:5},{type:"SportsClub",jpName:"総合型地域スポーツクラブ",color:"yellow",drawCards:1,resolveIssues:!0,increasePopulation:0,addCoins:0,addGetNum:2,addActions:0,happiness:-4,cost:4},{type:"CareerEducation",jpName:"キャリア教育",color:"yellow",drawCards:1,addActions:2,resolveIssues:!1,increasePopulation:0,happiness:0,addCoins:0,addGetNum:0,cost:3},{type:"HealthGuidance",jpName:"保険指導強化",color:"green",drawCards:2,addActions:0,resolveIssues:!0,increasePopulation:1,happiness:0,addCoins:0,addGetNum:0,cost:5},{type:"FireDepartment",jpName:"消防団",color:"green",drawCards:1,addActions:1,resolveIssues:!0,increasePopulation:0,happiness:0,addCoins:0,addGetNum:0,cost:4},{type:"ChildrenRestaurant",jpName:"子供食堂",color:"green",drawCards:2,addActions:1,resolveIssues:!1,increasePopulation:0,happiness:0,addCoins:0,addGetNum:0,cost:3},{type:"PopulationCreating",jpName:"関係人口の創出",color:"blue",drawCards:1,resolveIssues:!0,addCoins:1,increasePopulation:1,addActions:0,addGetNum:0,happiness:0,cost:5},{type:"Lottery",jpName:"宝くじ",color:"blue",drawCards:1,resolveIssues:!0,addCoins:1,increasePopulation:0,addActions:0,addGetNum:0,happiness:0,cost:3},{type:"BusinessSorting",jpName:"事業仕分け",color:"blue",drawCards:0,addActions:1,increasePopulation:0,addCoins:1,addGetNum:0,happiness:-1,resolveIssues:!1,cost:2},{type:"Income",jpName:"所得",happiness:1,cost:2},{type:"Health",jpName:"健康",happiness:2,cost:5},{type:"LifeMotivation",jpName:"生きがい",happiness:4,cost:8},{type:"Subsidy",jpName:"交付金",coin:1,cost:0},{type:"IndivisualTax",jpName:"個人税",coin:2,cost:3},{type:"CorporateTax",jpName:"法人税",coin:3,cost:6}];function u(e){let{type:s,register:t,jpName:n}=e;return(0,a.jsxs)("div",{style:{background:"#ccc",fontSize:"0.75rem",border:"solid #000 1px"},children:[(0,a.jsx)("div",{children:n}),(0,a.jsxs)("div",{children:["所持枚数: ",(0,a.jsx)("input",{type:"number",...t("".concat(s,".hasCount"),{valueAsNumber:!0})}),"残り枚数: ",(0,a.jsx)("input",{type:"number",...t("".concat(s,".remainingCount"),{valueAsNumber:!0})})]})]})}function l(){let{register:e,setValue:s}=(0,p.Gc)();return(0,d.useEffect)(()=>{c.forEach(e=>{s("".concat(e.type,".hasCount"),0),s("".concat(e.type,".remainingCount"),3)})},[s]),(0,a.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)"},children:c.map(s=>(0,a.jsx)(u,{type:s.type,jpName:s.jpName,register:e},s.type))})}function m(){let{register:e,setValue:s}=(0,p.Gc)();return(0,d.useEffect)(()=>{s("getNum",0),s("coin",0),s("population",5),s("red",0),s("yellow",0),s("green",0),s("blue",0)},[s]),(0,a.jsxs)("div",{children:["残り獲得数: ",(0,a.jsx)("input",{type:"number",...e("getNum"),disabled:!0})," ※獲得数の変更は未実装です ",(0,a.jsx)("br",{}),"財源: ",(0,a.jsx)("input",{type:"number",...e("coin")}),(0,a.jsx)("br",{}),"人口: ",(0,a.jsx)("input",{type:"number",...e("population")}),(0,a.jsx)("br",{}),"社会問題: ",(0,a.jsx)("br",{}),"赤",(0,a.jsx)("input",{type:"number",...e("red"),disabled:!0}),"青",(0,a.jsx)("input",{type:"number",...e("blue"),disabled:!0}),"黄",(0,a.jsx)("input",{type:"number",...e("yellow"),disabled:!0}),"緑",(0,a.jsx)("input",{type:"number",...e("green"),disabled:!0})," ※蓄積社会問題数の変更は未実装です ",(0,a.jsx)("br",{})]})}let h=e=>c.filter(s=>y(e,s)).map(s=>({purchase:[{type:s.type,jpName:s.jpName}],eval:j(e,s)})).sort((e,s)=>s.eval-e.eval),y=(e,s)=>0!==e.board.remainingCounts[s.type]&&!(e.player.coin<s.cost),j=(e,s)=>{let t=0;switch(s.type){case"Income":case"Health":break;case"LifeMotivation":t=100;break;case"Subsidy":case"IndivisualTax":case"CorporateTax":t+=s.cost;break;default:t+=s.cost+2*s.addActions+2*s.drawCards+1*s.addCoins+.5*s.happiness+s.increasePopulation*(5-e.player.population)*4;let a=e.player.hasCounts.CityRoad+e.player.hasCounts.ShoppingCenter+e.player.hasCounts.HealthGuidance+e.player.hasCounts.ChildrenRestaurant,n=e.player.hasCounts.Nursery+e.player.hasCounts.CareerEducation;a-n?t+=2*s.addActions:t+=2*s.drawCards}return t},C=e=>{let s=c.map(s=>[s.type,e[s.type].hasCount]),t={coin:e.coin,getNum:1,population:e.population,hasCounts:Object.fromEntries(s)},a=c.map(s=>[s.type,e[s.type].remainingCount]),n={remainingCounts:Object.fromEntries(a)};return{player:t,board:n}};function N(){let e=(0,p.cI)(),[s,t]=(0,d.useState)(null),[n,r]=(0,d.useState)(!1),c=e=>{let s=C(e);console.log(s);let a=h(s);console.log(a),t(a),r(!1)},u=()=>{if(!s){window.alert("結果がありません");return}let t=s[0].purchase[0].type,a=e.getValues()[t];e.setValue("".concat(t),{remainingCount:a.remainingCount-1,hasCount:a.hasCount+1}),r(!0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:"限界都市AI"}),(0,a.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("main",{className:i().main,children:[(0,a.jsx)("h1",{children:"限界都市AI"}),(0,a.jsx)("h2",{children:"盤面状況入力"}),(0,a.jsx)(p.RV,{...e,children:(0,a.jsxs)("form",{onSubmit:e.handleSubmit(c),children:[(0,a.jsx)(m,{}),(0,a.jsx)(l,{}),(0,a.jsx)("button",{type:"submit",children:"結果を見る"})," ※AIがどれを買うべきかを示してくれます ",(0,a.jsx)("br",{}),(0,a.jsx)("button",{type:"button",onClick:u,disabled:n,children:n?"反映済み ":"結果を反映"})," ","※一番評価の高かったカードを買ったことにし、枚数に反映します。"]})}),(0,a.jsx)("h2",{children:"判定結果"}),s&&(0,a.jsx)("ul",{children:s.map(e=>(0,a.jsxs)("li",{children:["評価値=",e.eval,";",e.purchase.map(e=>(0,a.jsxs)("span",{children:[e.jpName,";"]},e.type))]},e.purchase[0].type))})]})]})}},3915:function(e){e.exports={main:"Home_main__EtNt2",description:"Home_description__Qwq1f",code:"Home_code__aGV0U",grid:"Home_grid__c_g6N",card:"Home_card__7oz7W",center:"Home_center__V0nxp",logo:"Home_logo__80mSr",thirteen:"Home_thirteen__ocdUI",rotate:"Home_rotate__99GkW",content:"Home_content___fOQz",vercelLogo:"Home_vercelLogo__lhIxO"}}},function(e){e.O(0,[281,774,888,179],function(){return e(e.s=9208)}),_N_E=e.O()}]);